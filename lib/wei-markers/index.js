(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["weiPhoto"]=t():e["weiPhoto"]=t()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="5e61")}({"002a":function(e,t,n){"use strict";var r=n("128e"),o=n.n(r);o.a},"128e":function(e,t,n){},"14f8":function(e,t,n){"use strict";n.r(t);var r={upFile:({success:e,error:t})=>{var n=document.createElement("input");n.type="file",n.style="opacity:0;position: absolute;top: -10000px;",document.body.appendChild(n),n.onchange=n=>{0==n.target.files.length?t("请选择文件"):e(n.target.files)},n.click()},getDay:e=>{function t(e){var t=new Date,r=t.getTime()+864e5*e;t.setTime(r);var o=t.getFullYear(),i=t.getMonth(),s=t.getDate();return i=n(i+1),s=n(s),o+"-"+i+"-"+s}function n(e){var t=e;return 1==e.toString().length&&(t="0"+e),t}return t(e)},deepCopy:e=>{let t;if("object"===typeof e)if(Array.isArray(e)){t=[];for(let n in e)t.push(r.deepCopy(e[n]))}else if(null===e)t=null;else if(e.constructor===RegExp)t=e;else{t={};for(let n in e)t[n]=r.deepCopy(e[n])}else t=e;return t},dateTime:(e,t)=>{t&&(e=new Date(1e3*parseInt(e)));var n=new Date(e),r=n.getFullYear(),o=n.getMonth()+1;o=o<10?"0"+o:o;var i=n.getDate();i=i<10?"0"+i:i;var s=n.getHours();s=s<10?"0"+s:s;var a=n.getMinutes(),l=n.getSeconds();return a=a<10?"0"+a:a,l=l<10?"0"+l:l,"num"==t?Math.round(new Date(e)/1e3):{nyr:r+"-"+o+"-"+i,datetime:s+":"+a+":"+l,time:r+"-"+o+"-"+i+" "+s+":"+a+":"+l}},timeCountdown:(e,t)=>{setInterval(()=>{var e=new Date,n=new Date(n),r=n.getTime()-e.getTime(),o=Math.floor(r/864e5),i=Math.floor(r/36e5%24),s=Math.floor(r/6e4%60),a=Math.floor(r/1e3%60);t({leftd:o,lefth:i,leftm:s,lefts:a,content:`${o}天${i}小时${s}分钟${a}秒后结束`})},1e3)},parseUrl:e=>{var t,n,r=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/),o={},i={"http:":80,"https:":443,"ftp:":21,"gopher:":70,"ws:":80,wws:443};if(r[6]){t=r[6].replace(/^\?/,"").split("&"),o={};for(var s=0,a=t.length;s<a;s++)n=t[s].split("="),o[n[0]]=n[1]}return r&&{href:e,protocol:r[1],host:r[2],hostname:r[3],port:r[4]||i[r[1]]||"",path:r[5]+r[6],pathname:r[5],search:r[6],hash:r[7],query:o}},urlUpdate:(e,t)=>{let n=r.parseUrl(e),{protocol:o,query:i,pathname:s,hash:a,host:l}=n;for(let r in t)i[r]=t[r];function u(e){e.setType="null";let t=0;for(let r in e)t++;var n="?";for(let r in e)console.log(r),n+=`${r}=${e[r]}`+(r!=Object.keys(e)[t-1]?"&":"");return console.log(n),n}let d=u(i);return o+"//"+l+s+d+(a||"")},isMobile:function(e){return/^(?:13\d|14\d|15\d|16\d|17\d|18\d|19\d)\d{5}(\d{3}|\*{3})$/.test(e)},checkPwd:function(e){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/.test(e)},leavetime:function(e,t){if(!e)return null;let n=moment.duration(moment(e).diff(t||moment()));return{hours:~~n.as("hours"),minutes:n.get("minutes"),seconds:n.get("seconds"),milliseconds:n._milliseconds||0}},thousand:function(e,t){let n=".",r=",";e=(e+"").replace(/[^0-9+-Ee.]/g,"");let o=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,s="undefined"===typeof r?",":r,a="undefined"===typeof n?".":n,l="",u=function(e,t){let n=Math.pow(10,t);return""+Math.floor(e*n)/n};l=(i?u(o,i):""+Math.floor(o)).split(".");let d=/(-?\d+)(\d{3})/;while(d.test(l[0]))l[0]=l[0].replace(d,"$1"+s+"$2");return(l[1]||"").length<i&&(l[1]=l[1]||"",l[1]+=new Array(i-l[1].length+1).join("0")),l.join(a)},sayEnglish:function(e){let t=[""," thousand"," million"," billion"];function n(e){let t=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],n=["zero","one","two","three","four","five","six","seven","eight","nine"],r=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],o="";return 3==e.length&&"000"!=e.substr(0,3)&&("0"!=e.substr(0,1)&&(o+=n[e.substr(0,1)]+" hundred","00"!=e.substr(1,2)&&(o+=" and ")),e=e.substring(1)),2==e.length&&("0"==e.substr(0,1)?e=e.substring(1):"1"==e.substr(0,1)?o+=r[e.substr(1,2)]:(o+=t[e.substr(0,1)],"0"!=e.substr(1,1)&&(o+="-"),e=e.substring(1))),1==e.length&&"0"!=e.substr(0,1)&&(o+=n[e.substr(0,1)]),o}let r,o=e.toString(),i=o.length,s=0,a="",l=Math.ceil(i/3),u=i-3*l;for(a="",r=u;r<i;r+=3){++s;let e=r>=0?o.substring(r,r+3):o.substring(0,u+3),i=n(e);""!=i&&(""!=a&&(a+=","),a+=n(e)+t[l-s])}return a.toUpperCase()},sayMoney:function(e){let t=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],o=e<0?"欠":"";e=Math.abs(e);let i="";for(let s=0;s<t.length;s++)i+=(n[Math.floor(10*e*Math.pow(10,s))%10]+t[s]).replace(/零./,"");i=i||"整",e=Math.floor(e);for(let s=0;s<r[0].length&&e>0;s++){let t="";for(let o=0;o<r[1].length&&e>0;o++)t=n[e%10]+r[1][o]+t,e=Math.floor(e/10);i=t.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][s]+i}return o+i.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},copy:function(e){return JSON.parse(JSON.stringify(e))},getCookie:function(e){let t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},setCookie:function(e,t,n){let r=new Date;r.setDate(r.getDate()+n),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()},delCookie:function(e){let t=new Date;t.setTime(t.getTime()-1);let n=getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},setSession:function(e,t){let n=window.sessionStorage;n.setItem(e+"-state",JSON.stringify({data:t}))},getSession:function(e){let t=window.sessionStorage,n=t.getItem(e+"-state");if("undefined"===typeof n||null===n)return null;let r=JSON.parse(n);return r.data},setStorage:function(e,t){let n=window.localStorage;n.setItem(e+"-state",JSON.stringify({data:t}))},getStorage:function(e){let t=window.localStorage,n=t.getItem(e+"-state");if("undefined"===typeof n||null===n)return null;let r=JSON.parse(n);return r.data},randomStr:function(e){let t="",n=e;while(e>0){let n=Math.round(1e5*Math.random()).toString().substr(0,5);t+=n,e-=5}return t.substr(0,n)},assert:function(e,t){if(!e)throw new Error(t)}};t["default"]=r},2877:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var d=u.render;u.render=function(e,t){return l.call(t),d(e,t)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},"5e61":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"marker",staticStyle:{height:"1px",width:"1px",background:"rgba(0,0,0,0)"},on:{click:e.markerClick}},[n("div",{staticClass:"markerContainer",style:e.xyPosition},[e._t("default")],2)])},o=[],i=n("14f8"),s={name:"wei-markers",props:["config"],data(){return{viewer:null,markersPlugin:null,oldConfig:null,markerId:null,xyPosition:""}},watch:{config:{handler(e){e.longitude&&e.longitude&&this.update(e)},deep:!0}},methods:{markerClick(){this.$emit("click",!0)},remove(e){e&&this.$markersPlugin.removeMarker(e)},add(e){var t=i["default"].deepCopy(e);let n=t.positionX,r=t.positionY,o="";n&&("start"==n&&(o+="0px"),"center"==n&&(o+="-50%"),"end"==n&&(o+="-100%")),r&&("start"==r&&(o+=",0px"),"center"==r&&(o+=",-50%"),"end"==r&&(o+=",-100%")),this.xyPosition=n||r?`transform: translate(${o});`:"transform: translate(-50%,-100%);";let s=String(parseInt(1e6*Math.random()));t.id||(t.id="myId-"+s),t.$$el=this.$el,t.polylineRad||(t.html=""),this.$markersPlugin.addMarker(t),t.polylineRad&&this.$nextTick(()=>{let e=document.getElementById("psv-marker-"+t.id);this.$markerEl=e,e.addEventListener("click",()=>{this.$emit("click",!0)})}),this.markerId=t.id},update(e){this.remove(this.markerId),this.add(e)},change(e,t){"on"==e?this.$emit("over",!0):this.$emit("leave",!0)}},mounted(){this.$nextTick(()=>{this.$markersPlugin=this.$parent.$markersPlugin,this.$parent.isOneLoad?this.add(this.config):this.$parent.$viewer.once("ready",()=>{this.add(this.config)})})},destroyed(){this.remove(this.markerId)}},a=s,l=(n("002a"),n("2877")),u=Object(l["a"])(a,r,o,!1,null,null,null),d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})["default"]}));